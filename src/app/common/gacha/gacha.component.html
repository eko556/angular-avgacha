<div class="gacha-container">
  <div class="gacha-main">
    <div class="gacha-content">
      <h1 class="gacha-title">AVガチャ</h1>
      <div class="gacha-description">
        <p>ランダムな作品が出現！お気に入りの一本に出会えるかも？</p>
      </div>
      <div class="gacha-machine">
        <div class="gacha-display">
          <div class="gacha-capsule">
            <img src="gachaimage.png" alt="ガチャカプセル" class="capsule-image">
          </div>
        </div>
        <button class="gacha-button" (click)="spinGacha()" [disabled]="isSpinning">
          <span class="button-text">{{ isSpinning ? '抽選中...' : '回す' }}</span>
          <span class="button-price">100円</span>
        </button>
      </div>
      <div class="gacha-result" *ngIf="currentResult">
        <div class="result-card">
          <img class="result-image" [src]="currentResult.imageUrl" [alt]="currentResult.title">
          <div class="result-info">
            <h3 class="result-title">{{ currentResult.title }}</h3>
            <div class="result-details">
              <span class="result-price">￥{{ currentResult.price.toLocaleString() }}</span>
              <div class="result-rating">
                <span class="stars">{{ getRatingStars(currentResult.reviewAverage) }}</span>
                <span class="rating-count">({{ currentResult.reviewCount }}件)</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="error-message" *ngIf="errorMessage">
        <p>{{ errorMessage }}</p>
      </div>
    </div>
  </div>
</div>
